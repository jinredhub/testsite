(this.webpackJsonpreactwebapp=this.webpackJsonpreactwebapp||[]).push([[0],{124:function(e,t,a){},125:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var s,n=a(0),o=a.n(n),i=a(28),l=a.n(i),c=(a(70),a(6)),r=a(7),u=a(8),d=a(9),m=a(10),g=a(61),p=a(26),h=(a(71),a(72),a(32)),f=a.n(h),b=a(2),v={stage:"test",apiGateway:(s={checkfirsttimelogin:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/checkfirsttimelogin",get_music_list:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/get-music-list",uploadfile:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/uploadfile",downloadfile:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/downloadfile",update_music_info:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/update-music-info",delete_music:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/delete-music",check_diagnostics_complete:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/check-diagnostics-complete",get_genre_etc:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/get-genre-etc",save_user_to_user_table:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/save-user-to-user-table",get_music_diagnostics:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/get-music-diagnostics",uploadcoverimage:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/uploadcoverimage",publish_to_library:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/publish-to-library",backend_name_check:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/backend-name-check",uploadfile_first_time:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/uploadfile-first-time",get_music_library:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/get-music-library",total_likes:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/total-likes",put_music_like:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/put-music-like",delete_music_like:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/delete-music-like",get_user_profile:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/get-user-profile",update_user_profile:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/update-user-profile",profile_image_upload:"https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/profile-image-upload"},Object(b.a)(s,"backend_name_check","https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/-backend-name-check"),Object(b.a)(s,"backend_unpublish_from_library","https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/backend-unpublish-from-library"),Object(b.a)(s,"backend_edit_published_notes","https://asa8ggh6ie.execute-api.us-east-1.amazonaws.com/test/backend-edit-published-notes"),s),bucket:{musicBucket:"https://s3.amazonaws.com/test.kena.ai.music/"},pool_data:{UserPoolId:"us-east-1_Dr5cy3Pfm",ClientId:"41141jgjj72rot3j3a4a6fu4jo"}},y=a(16),E=a(37),w=a.n(E),_=(a(76),a(20)),k=a(21),I=function(e){var t={display:"none"};return e.showMobileNavbar&&(t.display="block"),o.a.createElement("div",{className:"Navbar"},o.a.createElement("div",{className:"nav desktopNavContainer disp-flex align-items--center hide-tablet justify-content--spaceBetween"},o.a.createElement("img",{src:f.a,alt:"logo",style:{width:"100px"}}),o.a.createElement("div",null,o.a.createElement("a",{href:"https://www.kena.ai/",target:"_blank"},"Home"),o.a.createElement("a",{href:"https://www.kena.ai/press",target:"_blank"},"Press"),o.a.createElement("a",{href:"https://www.kena.ai/jobs",target:"_blank"},"Jobs"),o.a.createElement("a",{href:"https://www.kena.ai/culture",target:"_blank"},"Culture"),o.a.createElement("a",{href:"https://www.kena.ai/blog",target:"_blank"},"Blog"),o.a.createElement("a",{href:"#",className:"logoutButton"},"Logout"))),o.a.createElement("div",{className:"nav mobileNavContainer disp-flex align-items--center show-tablet-flex justify-content--end"},o.a.createElement("div",{className:"myNavLinks",style:t},o.a.createElement("a",{href:"https://www.kena.ai/"},"Home"),o.a.createElement("a",{href:"./diagnostics",className:"diagnosticsLink"},"Workstation"),o.a.createElement("a",{href:"./my-music",className:"myMusicLink"},"My Music"),o.a.createElement("a",{href:"./library",className:"libraryLink"},"Library"),o.a.createElement("a",{href:"./profile",className:"profileLink"},"Profile"),o.a.createElement("a",{href:"#",className:"logoutButton"},"Logout")),o.a.createElement("a",{onClick:e.clicked,href:"#",className:"navHamburgerIcon","aria-label":"click to open mobile navigation menu"},o.a.createElement(_.a,{icon:k.a,color:"black",size:"1x"}))))},N=(a(81),function(e){var t=null,a=null,s="styleLabel",n="checkBoxContainer";if(e.req&&(s+=" req",n+=" req"),"input"===e.inputtype&&"text"===e.type)t=o.a.createElement("label",{className:s,htmlFor:e.id},e.label),a=o.a.createElement("input",Object.assign({className:"inputText"},e));else if("input"===e.inputtype&&"password"===e.type)t=o.a.createElement("label",{className:s,htmlFor:e.id},e.label),a=o.a.createElement("input",Object.assign({className:"inputText"},e));else if("textarea"===e.inputtype)t=o.a.createElement("label",{className:s,htmlFor:e.id},e.label),a=o.a.createElement("textarea",Object.assign({className:"inputText"},e));else if("input"===e.inputtype&&"file"===e.type){var i=e.filelabelspan,l=e.filelabel,c=e.label;e.filelabelspan?(c=null,l=null):e.filelabel&&(c=null,i=null),a=o.a.createElement("div",null,o.a.createElement("input",Object.assign({},e,{className:"inputfile","data-multiple-caption":"{count} files selected"})),o.a.createElement("label",{htmlFor:e.id},o.a.createElement("span",null,i,l,c)))}else"select"===e.inputtype?(t=o.a.createElement("label",{className:s,htmlFor:e.id},e.label),a=o.a.createElement("select",Object.assign({className:"inputSelect"},e),e.options.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})))):"input"===e.inputtype&&"radio"===e.type?a=o.a.createElement("div",{className:"disp-flex"},e.options.map((function(t){return o.a.createElement(o.a.Fragment,{key:t.id},o.a.createElement("input",Object.assign({},e,{type:e.type,className:"buttonLikeRadio buttonLikeRadio-insurance_y_n",id:t.id,name:e.name,value:t.value,checked:t.value===e.selected})),o.a.createElement("label",{className:"round-border width100",htmlFor:t.id},t.label))}))):"input"===e.inputtype&&"checkbox"===e.type&&(a=o.a.createElement("div",null,o.a.createElement("label",{className:n,htmlFor:e.name},e.label,o.a.createElement("input",Object.assign({},e,{checked:!!e.ischecked})),o.a.createElement("span",{className:"checkmark"}))));return o.a.createElement("div",{className:"Input"},t,a)}),S=(a(82),function(e){var t="";return t="primary"===e.color?"btn btn-primary":"danger"===e.color?"btn danger":"btn",o.a.createElement("div",{className:"Button"},o.a.createElement("button",Object.assign({disabled:e.disabled,className:t},e),e.children))}),M=(a(83),function(e){var t="";return"warning"===e.color?t="Alert warning":"danger"===e.color&&(t="Alert danger"),o.a.createElement("div",{className:"Alert"},o.a.createElement("div",{className:t},e.children))}),x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={showMobileNavbar:!1,loginErrorMessage:"",loginEmail:"",loginPassword:""},a.toggleMobileNavbar=function(){a.setState({showMobileNavbar:!a.state.showMobileNavbar})},a.inputHandler=function(e,t){"loginEmail"===t?a.setState({loginEmail:e.target.value}):"loginPassword"===t&&a.setState({loginPassword:e.target.value})},a.formLoginHandler=function(){var e=a.state.loginEmail,t=a.state.loginPassword,s={email:e,password:t};if(e&&t){var n={Username:s.email,Password:s.password},o=new y.a(n),i={UserPoolId:v.pool_data.UserPoolId,ClientId:v.pool_data.ClientId},l=new y.c(i),c={Username:s.email,Pool:l};new y.b(c).authenticateUser(o,{onSuccess:function(e){l.getCurrentUser().getSession((function(e,t){e?alert("error: session expired"):window.location.href="./my-music"}))},onFailure:function(e){alert(e.message||JSON.stringify(e))}})}else a.setState({loginErrorMessage:"Please fill out all fields"})},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;console.log("======================",this.state);var t=null;return this.state.loginErrorMessage&&(t=o.a.createElement(M,{color:"danger"},this.state.loginErrorMessage)),o.a.createElement("div",{className:"Login"},o.a.createElement("img",{src:w.a,alt:"background image",id:"bgImage",className:"hide-tablet"}),o.a.createElement("section",null,o.a.createElement(I,{showMobileNavbar:this.state.showMobileNavbar,clicked:this.toggleMobileNavbar}),o.a.createElement("div",{className:"disp-flex",style:{padding:"20px"}},o.a.createElement("div",{className:"flex-50"},o.a.createElement("div",{style:{paddingTop:"120px"}}),o.a.createElement("div",{style:{padding:"30px010px0"}},o.a.createElement("h1",{className:"title"},"Kena Opus"),o.a.createElement("div",{className:"version"},"Version 0.1 (alpha)")),o.a.createElement("div",{className:"padding-tb-1"},o.a.createElement("input",{type:"text",value:this.state.login_email,onChange:function(t){return e.inputHandler(t,"loginEmail")},placeholder:"Email",className:"inputField"})),o.a.createElement("div",{className:"padding-tb-1"},o.a.createElement("input",{type:"password",value:this.state.login_password,onChange:function(t){return e.inputHandler(t,"loginPassword")},placeholder:"Password",className:"inputField"})),o.a.createElement("div",{className:"text-align-right padding-tb-1"},o.a.createElement("a",{className:"link",href:"./forgotPassword.html"},"Forgot password")),t,o.a.createElement("div",{className:"padding-tb-1"},o.a.createElement(S,{onClick:this.formLoginHandler,type:"button",color:"primary",className:"loginButton"},"Login")),o.a.createElement("div",{className:"text-align-center padding-tb-1"},o.a.createElement("a",{className:"link",href:"./signup.html"},"Or Sign Up"))),o.a.createElement("div",{className:"flex-50"}))))}}]),t}(n.Component),j=(a(84),function(e){function t(){var e,a;Object(c.a)(this,t);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log("======================",this.state),o.a.createElement("div",{className:"Signup"},o.a.createElement("h1",null,"Signup page"))}}]),t}(n.Component)),A=a(29),C=a(14),O=a(1),P=(a(85),a(12)),U=a.n(P),z=a(33),T=a(17),D=a.n(T),L=(a(124),function(e){return o.a.createElement("div",{className:"SearchbarNav"},o.a.createElement("div",{className:"searchBarMadin"},o.a.createElement("div",{className:"searchBarDiv"},o.a.createElement("select",{name:"searchDropdownEl",className:"searchDropdownEl"},o.a.createElement("option",{value:"all"},"All"),o.a.createElement("option",{value:"myMusic"},"My Music"),o.a.createElement("option",{value:"library"},"Library")),o.a.createElement("input",{className:"searchBar",type:"text",disabled:!0,placeholder:"Search bar coming soon..."})),o.a.createElement("div",{className:"linksDiv disp-flex justify-content--end align-items--center"},o.a.createElement("div",{className:"hide-tablet"},o.a.createElement("a",{href:"./diagnostics",className:"diagnosticsLink",hidden:!0},"Workstation"),o.a.createElement("a",{href:"./my-music",className:"myMusicLink"},"My Music"),o.a.createElement("a",{href:"./library",className:"libraryLink"},"Library"),o.a.createElement("a",{href:"./profile",className:"profileLink"},"Profile")),o.a.createElement("div",null,o.a.createElement(N,{inputtype:"input",type:"file",name:"uploadMusic",id:"uploadMuisc",onChange:e.changed,filelabelspan:e.uploadMusic1,filelabel:e.uploadMusic2})))))}),J=(a(125),a(41)),B=a.n(J),H=a(64),F=function(e){var t=B.a.duration(e.music_duration,"seconds"),a="",s=t.hours();s>0&&(a=s+":");var n=t.seconds();n<10&&(n="0"+n),a=a+t.minutes()+":"+n;var i=B()(e.modified_at,"x").format("MMM DD,YYYY"),l="P";"playIcon"===e.audioIcon?l=o.a.createElement(_.a,{icon:k.c,color:"#4f4f4f",size:"1x"}):"pauseIcon"===e.audioIcon&&(l=o.a.createElement(_.a,{icon:k.b,color:"#4f4f4f",size:"1x"}));var c=e.music_genre_id.map((function(e){return o.a.createElement("option",{key:e,value:e},e)})),r=[];e.music_genre_id.map((function(e){r.push({value:e,label:e})}));var u=[];return e.music_genre.map((function(t){e.music_genre_id.map((function(e,a){t===e&&u.push(r[a])}))})),o.a.createElement("div",{className:"Music"},o.a.createElement("div",{className:"disp-flex list-item"},o.a.createElement("div",{className:"playButtonDiv"},o.a.createElement("button",{onClick:e.clicked.bind(void 0,e.music_id,e.music_url),type:"button",className:"btn playButton"},l),o.a.createElement("button",{type:"button",className:"trashIconButton",onClick:e.deleteMusicClicked.bind(void 0,e.music_id)},"T")),o.a.createElement("div",{className:"width-100 disp-flex justify-content--space-between"},o.a.createElement("div",{style:{width:"500px"}},o.a.createElement("div",null,o.a.createElement("input",{onChange:function(t){return e.titleAndDescriptionChanged(t,e.music_id,"title")},type:"text",className:"title",value:e.music_title,onBlur:e.titleAndDescriptionBlurred.bind(void 0,e.music_id,"title")}),"  \xa0\xa0 ",o.a.createElement("span",{className:"duration"},"Duration ",a)," ",o.a.createElement("span",{className:"createdAt"}," / ",i)," ",o.a.createElement("span",{className:"publishedStatus"},"P?")),o.a.createElement("div",{style:{padding:"10px0"}},o.a.createElement("span",{className:"status"},e.status)," / ",o.a.createElement("span",{className:"instrument"},e.music_instrument),o.a.createElement("span",{hidden:!0},o.a.createElement("select",{className:"hiddenInstrumentSelect select2El"}))," /",o.a.createElement("span",{className:"genre"},e.music_genre),o.a.createElement("span",null,o.a.createElement("select",{className:"hiddenGenreSelect select2El",multiple:!0},c)),o.a.createElement(H.a,{defaultValue:u,isMulti:!0,isClearable:!1,options:r,onChange:function(t){return e.genreChanged(t,e.music_id)}})),o.a.createElement("textarea",{onChange:function(t){return e.titleAndDescriptionChanged(t,e.music_id,"description")},onBlur:e.titleAndDescriptionBlurred.bind(void 0,e.music_id,"description"),value:e.music_description,className:"hiddenNoteTextarea",rows:"4"})),o.a.createElement("div",{style:{width:"150px"},className:"rightDiv"},o.a.createElement("a",{onClick:function(t){return e.diagnosticsButtonClicked(t,e.music_id)},className:"btn linkDiagnose",href:"#"},"Diagnose"),o.a.createElement("div",null),o.a.createElement("div",{className:"disp-flex justify-content--space-between"},o.a.createElement("span",{className:"kenaScoreTitle"},"Kena Score"),o.a.createElement("span",{className:"kenaScore"},Math.round(e.kena_score)))))))},R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={userId:"",myMusic:[],uploadMusic1:"Upload Music",uploadMusic2:"Upload Music",loadingIcon:!1,showMobileNavbar:!1,playPauseAudio:{musicId:null,fileUrl:null,playing:!1}},a.handleOutsideClick=function(e){a.navbarNode.contains(e.target)||(console.log("outside navbar"),a.setState({showMobileNavbar:!1})),a.pNode.contains(e.target)||console.log("outside p")},a.getAuthenticatedUser=function(){var e={UserPoolId:v.pool_data.UserPoolId,ClientId:v.pool_data.ClientId};return new y.c(e).getCurrentUser()},a.checkLoggedInemailIsSameAsSendingRequest=function(e){return a.state.userId==e},a.toggleMobileNavbar=function(){a.setState({showMobileNavbar:!a.state.showMobileNavbar})},a.uploadMusicHandler=function(e){if(console.log("type: ",e.target.type),e.target.type&&"file"===e.target.type){var t=e.target.nextElementSibling.innerHTML,s="";if(e.target.files&&e.target.files.length>1?s=(e.target.getAttribute("data-multiple.caption")||"").replace("{count}",e.target.files.length):(s=e.target.value.split("\\").pop(),console.log("e target files[0]: ",e.target.files[0]),console.log("file name: ",e.target.files[0].name),console.log("file type: ",e.target.files[0].type),console.log("file size: ",e.target.files[0].size/1024/1024+"MB")),s){var n=e.target.name+1;console.log("span state: ",n),a.setState(Object(b.a)({},n,s));var o=e.target.files[0].name.split("."),i=o[o.length-1];i=i.toLowerCase();var l=Math.round(e.target.files[0].size/1024/1024),c=a.state.userId;console.log("ext, size: ",i+", ",l),console.log("filenamesplit[0]: ",o[0]),console.log("userid: ",c);var r=null;if("mp3"==i||"m4a"==i||"ogg"==i||"wav"==i?r=!0:alert("Max file size : 2MB. Supported extensions: mp3, m4a, ogg, wav"),r&&l<2){console.log("file size and ext is good"),a.setState({loadingIcon:!0});var u={userId:c,fileName:o[0],created_at:Date.now(),stage:v.stage},d=e.target.files[0];console.log("userdata: ",u);var m=Object(O.a)(a);!function(e){var t=d,a=new FileReader;a.onload=function(e){var t=e.target.result,a=window.btoa(t);u.user_file=a,console.log("base64string: ",a),console.log("that",m),m.getAuthenticatedUser().getSession((function(e,t){e?alert("error: session expired"):m.checkLoggedInemailIsSameAsSendingRequest(u.userId)&&U()({method:"post",data:JSON.stringify(u),contentType:"application/json",headers:{Authorization:t.getIdToken().getJwtToken()}}).then((function(e){console.log("success response: ",e)})).catch((function(e){console.log("err: ",e)}))}))},a.readAsBinaryString(t)}()}}else{var g=e.target.name+2;a.setState(Object(b.a)({},g,t))}}},a.audioEl=document.createElement("audio"),a.playPauseAudio=function(e,t){if(console.log("test"),console.log("newMusicId: ",e),console.log("old musicid: ",a.state.playPauseAudio.musicId),console.log("newFileUrl: ",t),a.state.playPauseAudio.musicId===e)if(console.log("same music id"),console.log("t f: ",a.audioEl.paused),a.audioEl.paused){console.log("music paused"),a.audioEl.play();var s=Object(C.a)({},a.state.playPauseAudio);s.playing=!0,a.setState({playPauseAudio:s})}else{console.log("music is playing"),a.audioEl.pause();var n=Object(C.a)({},a.state.playPauseAudio);n.playing=!1,a.setState({playPauseAudio:n})}else{console.log("different music");var o=Object(O.a)(a),i=t.split(v.bucket.musicBucket)[1];console.log("path: ",i);var l={path:i,stage:v.stage};a.getAuthenticatedUser().getSession((function(a,s){a?alert("error: session expired"):(console.log("ajaxdata: ",l),U()({url:v.apiGateway.downloadfile,method:"post",data:JSON.stringify(l),headers:{Authorization:s.getIdToken().getJwtToken()}}).then((function(a){console.log("success response: ",a),o.audioEl.src=a.data,o.audioEl.play();var s=Object(C.a)({},o.state.playPauseAudio);s.musicId=e,s.fileUrl=t,s.playing=!0,o.setState({playPauseAudio:s})})).catch((function(e){console.log("err: ",e)})))}))}},a.checkAudioIcon=function(e){return console.log("musicId: ",e),console.log("state musicId: ",a.state.playPauseAudio.musicId),console.log("state plying: ",a.state.playPauseAudio.playing),a.state.playPauseAudio.musicId===e&&a.state.playPauseAudio.playing?"pauseIcon":"playIcon"},a.descriptionChangeHandler=function(e,t,s){var n=e.target.value,o=a.state.myMusic.findIndex((function(e){return e.music_id===t})),i=Object(C.a)({},a.state.myMusic[o]);"description"===s?i.music_description=n:"title"===s&&(i.music_title=n);var l=Object(A.a)(a.state.myMusic);l[o]=i,a.setState({myMusic:l})},a.descriptionBlurredHandler=function(e){var t=a.state.myMusic.findIndex((function(t){return t.music_id===e})),s=v.apiGateway.update_music_info,n={user_id:a.state.userId,music_id:e,modified_at:Date.now(),music_title:a.state.myMusic[t].music_title,music_description:a.state.myMusic[t].music_description,stage:v.stage};console.log("ajaxData: ",n),a.updateDatabase(n,s)},a.updateDatabase=function(e,t){console.log("ajaxData: ",e),console.log("ajaxUrl: ",t),a.getAuthenticatedUser().getSession((function(a,s){a?alert("error: session expired"):U()({url:t,method:"post",data:e,headers:{Authorization:s.getIdToken().getJwtToken()}}).then((function(e){console.log("success response: ",e)})).catch((function(e){console.log("err: ",e)}))}))},a.deleteMusicHandler=function(e){var t=a.state.myMusic.findIndex((function(t){return t.music_id===e}));console.log("index: ",t),console.log("musicId: ",e);var s=v.apiGateway.delete_music,n={user_id:a.state.userId,music_id:e,music_status:a.state.myMusic[t].music_status,music_genre_id:a.state.myMusic[t].music_genre_id,stage:v.stage};console.log("ajaxData: ",n),console.log("ajaxUrl: ",s),a.updateDatabase(n,s);var o=Object(z.a)(a.state.myMusic,(function(e){e.splice(t,1)}));a.setState({myMusic:o})},a.genreChangeHandler=function(e,t){console.log("value: ",e),console.log("musicId: ",t);var s=[];e&&(s=e.map((function(e){return e.value}))),console.log("objValueToArray",s);var n=a.state.myMusic.findIndex((function(e){return e.music_id===t})),o=Object(z.a)(a.state.myMusic,(function(e){e[n].music_genre=s}));a.setState({myMusic:o})},a.diagnosticsButtonClickHandler=function(e,t){e.preventDefault(),console.log("diag button clicked"),console.log("musicId: ",t);var s=D.a.AES.encrypt(a.state.userId,"fujiappletastgreat"),n=D.a.AES.encrypt(t,"fujiappletastgreat"),o={userId:s.toString(),authorId:s.toString(),musicId:n.toString()};localStorage.setItem("kenaMusicData",JSON.stringify(o)),window.location.href="./diagnostics"},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleOutsideClick);var e={UserPoolId:v.pool_data.UserPoolId,ClientId:v.pool_data.ClientId},t=new y.c(e).getCurrentUser();if(console.log("cognito user: ",t),null!=t){this.setState({loadingIcon:!0});var a=t.username;this.setState({userId:a}),this.getAuthenticatedUser().getSession(function(e,t){var s=this;if(e)alert("error: session expired");else{var n={userId:a,stage:v.stage};U()({url:v.apiGateway.checkfirsttimelogin,method:"post",data:JSON.stringify(n),contentType:"application/json",headers:{Authorization:t.getIdToken().getJwtToken()}}).then((function(e){if(console.log("success check first time login: ",e),e.data.Item)console.log("found user in db");else{console.log("did not find user in db");var s="",n=null;null!==localStorage.getItem("kenaPromoData")&&(n=(s=JSON.parse(localStorage.getItem("kenaPromoData"))).promoCode),console.log("ls data: ",s),console.log("promocode: ",n);var o={userId:a,created_at:Date.now(),promoCode:n,stage:v.stage};U()({url:v.apiGateway.save_user_to_user_table,method:"post",data:o,contentType:"application/json",headers:{Authorization:t.getIdToken().getJwtToken()}}).then((function(e){console.log("succeeded saved user to user table"),console.log("response",e);localStorage.setItem("kenaPromoData",JSON.stringify({promoCode:null}))})).catch((function(e){console.log("err: ",e)}))}})).catch((function(e){console.log("err: ",e)}));var o={stage:v.stage};U()({url:v.apiGateway.get_genre_etc,method:"post",data:JSON.stringify(o),contentType:"application/json",headers:{Authorization:t.getIdToken().getJwtToken()}}).then((function(e){console.log("succeeded get gereEtc"),console.log("response: ",e);var n={};n.musicScale=JSON.parse(e.data.musicScale),n.genre=JSON.parse(e.data.genre),n.instrument=JSON.parse(e.data.instrument),n.mood=JSON.parse(e.data.mood),n.musicKey=JSON.parse(e.data.musicKey),console.log("genreEtc: ",n),s.setState({genreEtc:n});var o={user_id:a,page_no:0,stage:v.stage};a===o.user_id&&(console.log("passed email check"),U()({url:v.apiGateway.get_music_list,method:"post",data:JSON.stringify(o),headers:{Authorization:t.getIdToken().getJwtToken()}}).then((function(e){console.log("succeeded loading data on page load"),console.log("response: ",e);var t=e.data.music_info_list;t.length&&(t.sort((function(e,t){return t.created_at-e.created_at})),s.setState({myMusic:t,loadingIcon:!1}),console.log("sorted myMusic: ",t))})).catch((function(e){console.log("err: ",e)})))})).catch((function(e){console.log("err: ",e)}))}}.bind(this))}else window.location.href="./index.html?v=17"}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleOutsideClick)}},{key:"render",value:function(){var e=this;console.log("======================",this.state);var t=null;this.state.loadingIcon&&(t=o.a.createElement("div",{className:"loading"},o.a.createElement(_.a,{icon:k.d,color:"#4f4f4f",size:"6x",spin:!0})));var a=null;return this.state.myMusic.length&&(a=this.state.myMusic.map((function(t){return o.a.createElement(F,{key:t.music_id,diagnostics_status:t.diagnostics_status,music_id:t.music_id,music_satatus:t.music_satatus,music_url:t.music_url,music_title:t.music_title,music_instrument:t.music_instrument,music_duration:t.music_duration,modified_at:t.modified_at,published:t.published,music_genre:t.music_genre,music_description:t.music_description,kena_score:t.kena_score,clicked:e.playPauseAudio,audioIcon:e.checkAudioIcon(t.music_id),titleAndDescriptionChanged:e.descriptionChangeHandler,titleAndDescriptionBlurred:e.descriptionBlurredHandler,deleteMusicClicked:e.deleteMusicHandler,music_genre_id:e.state.genreEtc.genre.music_genre_id,genreChanged:e.genreChangeHandler,diagnosticsButtonClicked:e.diagnosticsButtonClickHandler})}))),o.a.createElement("div",{className:"Library"},o.a.createElement("section",null,o.a.createElement("div",{ref:function(t){e.navbarNode=t}},o.a.createElement(I,{showMobileNavbar:this.state.showMobileNavbar,clicked:this.toggleMobileNavbar})),o.a.createElement("div",{style:{paddingTop:"120px"}}),o.a.createElement(L,{changed:this.uploadMusicHandler,uploadMusic1:this.state.uploadMusic1,uploadMusic2:this.state.uploadMusic2}),t,o.a.createElement("h1",{ref:function(t){e.h1Node=t}},"My Music"),o.a.createElement("p",{ref:function(t){e.pNode=t}},"hdioahfio"),a))}}]),t}(n.Component),G=(a(127),a(48)),q=a.n(G),W=(a(128),function(e){var t;return t=e.children.map((function(t,a){return o.a.createElement("button",{type:"button",className:"tablinks",key:a,onClick:e.clicked.bind(void 0,t.props.id)},t.props.id)})),o.a.createElement("div",{className:"Tabs"},t,o.a.Children.map(e.children,(function(t,a){if(e.activeTab===t.props.id)return o.a.createElement("div",{className:"tabcontent"},t)})))}),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).earlyLateChart=o.a.createRef(),a.chartRef2=o.a.createRef(),a.state={userId:"",data:{},uploadMusic1:"Upload Music",uploadMusic2:"Upload Music",loadingIcon:!1,showMobileNavbar:!1,playPauseAudio:{musicId:null,fileUrl:null,playing:!1},activeTab:"Diagnostics",rhythmChartX:[],rhythmChartY:[]},a.handleOutsideClick=function(e){a.navbarNode.contains(e.target)||a.setState({showMobileNavbar:!1})},a.getAuthenticatedUser=function(){var e={UserPoolId:v.pool_data.UserPoolId,ClientId:v.pool_data.ClientId};return new y.c(e).getCurrentUser()},a.checkLoggedInemailIsSameAsSendingRequest=function(e){return a.state.userId==e},a.uploadMusicHandler=function(e){if(console.log("type: ",e.target.type),e.target.type&&"file"===e.target.type){var t=e.target.nextElementSibling.innerHTML,s="";if(e.target.files&&e.target.files.length>1?s=(e.target.getAttribute("data-multiple.caption")||"").replace("{count}",e.target.files.length):(s=e.target.value.split("\\").pop(),console.log("e target files[0]: ",e.target.files[0]),console.log("file name: ",e.target.files[0].name),console.log("file type: ",e.target.files[0].type),console.log("file size: ",e.target.files[0].size/1024/1024+"MB")),s){var n=e.target.name+1;console.log("span state: ",n),a.setState(Object(b.a)({},n,s));var o=e.target.files[0].name.split("."),i=o[o.length-1];i=i.toLowerCase();var l=Math.round(e.target.files[0].size/1024/1024),c=a.state.userId;console.log("ext, size: ",i+", ",l),console.log("filenamesplit[0]: ",o[0]),console.log("userid: ",c);var r=null;if("mp3"==i||"m4a"==i||"ogg"==i||"wav"==i?r=!0:alert("Max file size : 2MB. Supported extensions: mp3, m4a, ogg, wav"),r&&l<2){console.log("file size and ext is good"),a.setState({loadingIcon:!0});var u={userId:c,fileName:o[0],created_at:Date.now(),stage:v.stage},d=e.target.files[0];console.log("userdata: ",u);var m=Object(O.a)(a);!function(e){var t=d,a=new FileReader;a.onload=function(e){var t=e.target.result,a=window.btoa(t);u.user_file=a,console.log("base64string: ",a),console.log("that",m),m.getAuthenticatedUser().getSession((function(e,t){e?alert("error: session expired"):m.checkLoggedInemailIsSameAsSendingRequest(u.userId)&&U()({method:"post",data:JSON.stringify(u),contentType:"application/json",headers:{Authorization:t.getIdToken().getJwtToken()}}).then((function(e){console.log("success response: ",e)})).catch((function(e){console.log("err: ",e)}))}))},a.readAsBinaryString(t)}()}}else{var g=e.target.name+2;a.setState(Object(b.a)({},g,t))}}},a.audioEl=document.createElement("audio"),a.playPauseAudio=function(e,t){if(console.log("test"),console.log("newMusicId: ",e),console.log("old musicid: ",a.state.playPauseAudio.musicId),console.log("newFileUrl: ",t),a.state.playPauseAudio.musicId===e)if(console.log("same music id"),console.log("t f: ",a.audioEl.paused),a.audioEl.paused){console.log("music paused"),a.audioEl.play();var s=Object(C.a)({},a.state.playPauseAudio);s.playing=!0,a.setState({playPauseAudio:s})}else{console.log("music is playing"),a.audioEl.pause();var n=Object(C.a)({},a.state.playPauseAudio);n.playing=!1,a.setState({playPauseAudio:n})}else{console.log("different music");var o=Object(O.a)(a),i=t.split(v.bucket.musicBucket)[1];console.log("path: ",i);var l={path:i,stage:v.stage};a.getAuthenticatedUser().getSession((function(a,s){a?alert("error: session expired"):(console.log("ajaxdata: ",l),U()({url:v.apiGateway.downloadfile,method:"post",data:JSON.stringify(l),headers:{Authorization:s.getIdToken().getJwtToken()}}).then((function(a){console.log("success response: ",a),o.audioEl.src=a.data,o.audioEl.play();var s=Object(C.a)({},o.state.playPauseAudio);s.musicId=e,s.fileUrl=t,s.playing=!0,o.setState({playPauseAudio:s})})).catch((function(e){console.log("err: ",e)})))}))}},a.checkAudioIcon=function(e){return console.log("musicId: ",e),console.log("state musicId: ",a.state.playPauseAudio.musicId),console.log("state plying: ",a.state.playPauseAudio.playing),a.state.playPauseAudio.musicId===e&&a.state.playPauseAudio.playing?"pauseIcon":"playIcon"},a.descriptionChangeHandler=function(e,t,s){var n=e.target.value,o=a.state.myMusic.findIndex((function(e){return e.music_id===t})),i=Object(C.a)({},a.state.myMusic[o]);"description"===s?i.music_description=n:"title"===s&&(i.music_title=n);var l=Object(A.a)(a.state.myMusic);l[o]=i,a.setState({myMusic:l})},a.descriptionBlurredHandler=function(e){var t=a.state.myMusic.findIndex((function(t){return t.music_id===e})),s=v.apiGateway.update_music_info,n={user_id:a.state.userId,music_id:e,modified_at:Date.now(),music_title:a.state.myMusic[t].music_title,music_description:a.state.myMusic[t].music_description,stage:v.stage};console.log("ajaxData: ",n),a.updateDatabase(n,s)},a.updateDatabase=function(e,t){console.log("ajaxData: ",e),console.log("ajaxUrl: ",t),a.getAuthenticatedUser().getSession((function(a,s){a?alert("error: session expired"):U()({url:t,method:"post",data:e,headers:{Authorization:s.getIdToken().getJwtToken()}}).then((function(e){console.log("success response: ",e)})).catch((function(e){console.log("err: ",e)}))}))},a.genreChangeHandler=function(e,t){console.log("value: ",e),console.log("musicId: ",t);var s=[];e&&(s=e.map((function(e){return e.value}))),console.log("objValueToArray",s);var n=a.state.myMusic.findIndex((function(e){return e.music_id===t})),o=Object(z.a)(a.state.myMusic,(function(e){e[n].music_genre=s}));a.setState({myMusic:o})},a.tabButtonClicked=function(e){console.log("name",e),a.setState({activeTab:e})},a.testFunc=function(){console.log("test func")},a.createEarlyLateChart=function(e,t){for(var s=[],n=0;n<t.length;n++)t[n]<.25?s.push("rgba(230, 166, 166, 1)"):(t[n],s.push("rgba(230, 166, 166, 1)"));for(var o=[],i=0;i<t.length;i++)t[i]<0?o.push("end"):o.push("start");var l=a.earlyLateChart.current.getContext("2d");new q.a(l,{type:"bar",data:{labels:e,datasets:[{label:"error",data:t,backgroundColor:s,borderWidth:1}]},options:{maintainAspectRatio:!1,scales:{yAxes:[{gridLines:{display:!1},ticks:{display:!0,fontColor:"black",min:-100,max:100,callback:function(e,t,a){return e+"%"}}}],xAxes:[{gridLines:{display:!1},scaleLabel:{display:!1,labelString:"seconds"},ticks:{display:!0,beginAtZero:!1,fontColor:"black",callback:function(e,t,a){return e+"s"}}}]},legend:{display:!1},plugins:{datalabels:{color:"gray",align:"center",anchor:o,formatter:function(e,t){return""}}}}});var c=a.chartRef2.current.getContext("2d");new q.a(c,{type:"line",data:{labels:["Jan","Feb","March"],datasets:[{label:"Sales",data:[86,67,91]}]},options:{}})},a.toggleMobileNavbar=function(){a.setState({showMobileNavbar:!a.state.showMobileNavbar})},a.changeChartHandler=function(){a.setState({rhythmChartX:["Jan","Feb","March"],rhythmChartY:[44,55,11]})},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleOutsideClick);var e={UserPoolId:v.pool_data.UserPoolId,ClientId:v.pool_data.ClientId},t=new y.c(e).getCurrentUser();if(console.log("cognito user: ",t),null!=t){var a=t.username;this.setState({userId:a}),this.getAuthenticatedUser().getSession(function(e,t){var a=this;if(e)alert("error: session expired");else{var s={stage:v.stage};U()({url:v.apiGateway.get_genre_etc,method:"post",data:JSON.stringify(s),contentType:"application/json",headers:{Authorization:t.getIdToken().getJwtToken()}}).then((function(e){console.log("succeeded get gereEtc"),console.log("response: ",e);var s={};if(s.musicScale=JSON.parse(e.data.musicScale),s.genre=JSON.parse(e.data.genre),s.instrument=JSON.parse(e.data.instrument),s.mood=JSON.parse(e.data.mood),s.musicKey=JSON.parse(e.data.musicKey),console.log("genreEtc: ",s),a.setState({genreEtc:s}),null!==localStorage.getItem("kenaMusicData")){var n=JSON.parse(localStorage.getItem("kenaMusicData")),o=D.a.AES.decrypt(n.userId,"fujiappletastgreat"),i=D.a.AES.decrypt(n.authorId,"fujiappletastgreat"),l=D.a.AES.decrypt(n.musicId,"fujiappletastgreat"),c={user_id:o.toString(D.a.enc.Utf8),music_author_id:i.toString(D.a.enc.Utf8),music_id:l.toString(D.a.enc.Utf8),stage:v.stage};console.log("ajaxData: ",c);var r="";c.user_id==c.music_author_id&&(r=!0),console.log("isViewerIsAuthor: ",r),console.log(" get music ajaxData: ",c),a.checkLoggedInemailIsSameAsSendingRequest(c.user_id)&&U()({url:v.apiGateway.get_music_diagnostics,method:"post",data:c,headers:{Authorization:t.getIdToken().getJwtToken()}}).then((function(e){console.log("success response: ",e.data),console.log("parsed response: ",JSON.parse(e.data));var t=JSON.parse(e.data);a.setState({data:t});for(var s=[],n=t.errors,o=0;o<t.beat_times.length;o++)s.push(t.beat_times[o].toFixed(2));a.setState({rhythmChartX:s,rhythmChartY:n}),a.createEarlyLateChart(s,n)})).catch((function(e){console.log("err: ",e)}))}})).catch((function(e){console.log("err: ",e)}))}}.bind(this))}else window.location.href="./index.html?v=17"}},{key:"componentDidUpdate",value:function(){"Diagnostics"===this.state.activeTab&&this.createEarlyLateChart(this.state.rhythmChartX,this.state.rhythmChartY)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleOutsideClick)}},{key:"render",value:function(){var e=this;console.log("======================",this.state);var t=null;return this.state.loadingIcon&&(t=o.a.createElement("div",{className:"loading"},o.a.createElement(_.a,{icon:k.d,color:"#4f4f4f",size:"6x",spin:!0}))),o.a.createElement("div",{className:"Diagnostics"},o.a.createElement("section",null,o.a.createElement("div",{ref:function(t){e.navbarNode=t}},o.a.createElement(I,{showMobileNavbar:this.state.showMobileNavbar,clicked:this.toggleMobileNavbar})),o.a.createElement("div",{style:{paddingTop:"120px"}}),o.a.createElement(L,{changed:this.uploadMusicHandler,uploadMusic1:this.state.uploadMusic1,uploadMusic2:this.state.uploadMusic2}),t,o.a.createElement("h1",null,this.state.data.music_title),o.a.createElement(W,{activeTab:this.state.activeTab,clicked:this.tabButtonClicked},o.a.createElement("div",{id:"Diagnostics",className:"tabContent"},o.a.createElement("p",null,"Diagnostics"),o.a.createElement("p",null,"lorem jio ioj"),o.a.createElement("div",{style:{overflowX:"auto"}},o.a.createElement("div",{style:{width:"500px",height:"300px"}},o.a.createElement("canvas",{id:"earlyLateChart",ref:this.earlyLateChart}))),o.a.createElement("button",{type:"button",onClick:this.changeChartHandler},"change chart"),o.a.createElement("div",{style:{overflowX:"auto"}},o.a.createElement("div",{style:{width:"500px",height:"300px"}},o.a.createElement("canvas",{id:"differentChart",ref:this.chartRef2}))),o.a.createElement("p",null,"jopodpj fajdp fjsioa fjdiosaj")),o.a.createElement("div",{id:"Score Sheet",className:"tabContent"},o.a.createElement("p",null,"Score Sheet"),o.a.createElement("p",null,"dsa joia j")),o.a.createElement("div",{id:"WorkStation",className:"tabContent"},o.a.createElement("p",null,"workStation"),o.a.createElement("p",null,"a sjiod")))))}}]),t}(n.Component),K=(a(129),function(e){function t(){var e,a;Object(c.a)(this,t);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={userId:"",myMusic:[],uploadMusic1:"Upload Music",uploadMusic2:"Upload Music",loadingIcon:!1,showMobileNavbar:!1,playPauseAudio:{musicId:null,fileUrl:null,playing:!1}},a.handleOutsideClick=function(e){a.navbarNode.contains(e.target)||(console.log("outside navbar"),a.setState({showMobileNavbar:!1}))},a.getAuthenticatedUser=function(){var e={UserPoolId:v.pool_data.UserPoolId,ClientId:v.pool_data.ClientId};return new y.c(e).getCurrentUser()},a.checkLoggedInemailIsSameAsSendingRequest=function(e){return a.state.userId==e},a.toggleMobileNavbar=function(){a.setState({showMobileNavbar:!a.state.showMobileNavbar})},a.uploadMusicHandler=function(e){if(console.log("type: ",e.target.type),e.target.type&&"file"===e.target.type){var t=e.target.nextElementSibling.innerHTML,s="";if(e.target.files&&e.target.files.length>1?s=(e.target.getAttribute("data-multiple.caption")||"").replace("{count}",e.target.files.length):(s=e.target.value.split("\\").pop(),console.log("e target files[0]: ",e.target.files[0]),console.log("file name: ",e.target.files[0].name),console.log("file type: ",e.target.files[0].type),console.log("file size: ",e.target.files[0].size/1024/1024+"MB")),s){var n=e.target.name+1;console.log("span state: ",n),a.setState(Object(b.a)({},n,s));var o=e.target.files[0].name.split("."),i=o[o.length-1];i=i.toLowerCase();var l=Math.round(e.target.files[0].size/1024/1024),c=a.state.userId;console.log("ext, size: ",i+", ",l),console.log("filenamesplit[0]: ",o[0]),console.log("userid: ",c);var r=null;if("mp3"==i||"m4a"==i||"ogg"==i||"wav"==i?r=!0:alert("Max file size : 2MB. Supported extensions: mp3, m4a, ogg, wav"),r&&l<2){console.log("file size and ext is good"),a.setState({loadingIcon:!0});var u={userId:c,fileName:o[0],created_at:Date.now(),stage:v.stage},d=e.target.files[0];console.log("userdata: ",u);var m=Object(O.a)(a);!function(e){var t=d,a=new FileReader;a.onload=function(e){var t=e.target.result,a=window.btoa(t);u.user_file=a,console.log("base64string: ",a),console.log("that",m),m.getAuthenticatedUser().getSession((function(e,t){e?alert("error: session expired"):m.checkLoggedInemailIsSameAsSendingRequest(u.userId)&&U()({method:"post",data:JSON.stringify(u),contentType:"application/json",headers:{Authorization:t.getIdToken().getJwtToken()}}).then((function(e){console.log("success response: ",e)})).catch((function(e){console.log("err: ",e)}))}))},a.readAsBinaryString(t)}()}}else{var g=e.target.name+2;a.setState(Object(b.a)({},g,t))}}},a.audioEl=document.createElement("audio"),a.playPauseAudio=function(e,t){if(console.log("test"),console.log("newMusicId: ",e),console.log("old musicid: ",a.state.playPauseAudio.musicId),console.log("newFileUrl: ",t),a.state.playPauseAudio.musicId===e)if(console.log("same music id"),console.log("t f: ",a.audioEl.paused),a.audioEl.paused){console.log("music paused"),a.audioEl.play();var s=Object(C.a)({},a.state.playPauseAudio);s.playing=!0,a.setState({playPauseAudio:s})}else{console.log("music is playing"),a.audioEl.pause();var n=Object(C.a)({},a.state.playPauseAudio);n.playing=!1,a.setState({playPauseAudio:n})}else{console.log("different music");var o=Object(O.a)(a),i=t.split(v.bucket.musicBucket)[1];console.log("path: ",i);var l={path:i,stage:v.stage};a.getAuthenticatedUser().getSession((function(a,s){a?alert("error: session expired"):(console.log("ajaxdata: ",l),U()({url:v.apiGateway.downloadfile,method:"post",data:JSON.stringify(l),headers:{Authorization:s.getIdToken().getJwtToken()}}).then((function(a){console.log("success response: ",a),o.audioEl.src=a.data,o.audioEl.play();var s=Object(C.a)({},o.state.playPauseAudio);s.musicId=e,s.fileUrl=t,s.playing=!0,o.setState({playPauseAudio:s})})).catch((function(e){console.log("err: ",e)})))}))}},a.checkAudioIcon=function(e){return console.log("musicId: ",e),console.log("state musicId: ",a.state.playPauseAudio.musicId),console.log("state plying: ",a.state.playPauseAudio.playing),a.state.playPauseAudio.musicId===e&&a.state.playPauseAudio.playing?"pauseIcon":"playIcon"},a.diagnosticsButtonClickHandler=function(e,t){e.preventDefault(),console.log("diag button clicked"),console.log("musicId: ",t);var s=D.a.AES.encrypt(a.state.userId,"fujiappletastgreat"),n=D.a.AES.encrypt(t,"fujiappletastgreat"),o={userId:s.toString(),authorId:s.toString(),musicId:n.toString()};localStorage.setItem("kenaMusicData",JSON.stringify(o)),window.location.href="./diagnostics"},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleOutsideClick);var e={UserPoolId:v.pool_data.UserPoolId,ClientId:v.pool_data.ClientId},t=new y.c(e).getCurrentUser();if(console.log("cognito user: ",t),null!=t){this.setState({loadingIcon:!0});var a=t.username;this.setState({userId:a}),this.getAuthenticatedUser().getSession(function(e,t){var a=this;if(e)alert("error: session expired");else{var s={music_genre_id:"home",stage:v.stage};U()({url:v.apiGateway.get_music_library,method:"post",data:s,headers:{Authorization:t.getIdToken().getJwtToken()}}).then((function(e){console.log("succeeded loading data on page load"),console.log("response",e),a.setState({data:e.data,loadingIcon:!1})})).catch((function(e){console.log("err: ",e)}))}}.bind(this))}else window.location.href="./index.html?v=17"}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleOutsideClick)}},{key:"render",value:function(){var e=this;console.log("======================",this.state);var t=null;return this.state.loadingIcon&&(t=o.a.createElement("div",{className:"loading"},o.a.createElement(_.a,{icon:k.d,color:"#4f4f4f",size:"6x",spin:!0}))),o.a.createElement("div",{className:"Mymusic"},o.a.createElement("section",null,o.a.createElement("div",{ref:function(t){e.navbarNode=t}},o.a.createElement(I,{showMobileNavbar:this.state.showMobileNavbar,clicked:this.toggleMobileNavbar})),o.a.createElement("div",{style:{paddingTop:"120px"}}),o.a.createElement(L,{changed:this.uploadMusicHandler,uploadMusic1:this.state.uploadMusic1,uploadMusic2:this.state.uploadMusic2}),o.a.createElement("h1",null,"Library"),t))}}]),t}(n.Component)),V=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(g.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(p.a,{path:"/",exact:!0,component:x}),o.a.createElement(p.a,{path:"/signup",exact:!0,component:j}),o.a.createElement(p.a,{path:"/my-music",exact:!0,component:R}),o.a.createElement(p.a,{path:"/diagnostics",exact:!0,component:Y}),o.a.createElement(p.a,{path:"/library",exact:!0,component:K})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,t,a){e.exports=a.p+"static/media/logo.1ae84bdb.png"},37:function(e,t,a){e.exports=a.p+"static/media/bg2.d7f8d013.png"},65:function(e,t,a){e.exports=a(132)},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},76:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.4df30496.chunk.js.map